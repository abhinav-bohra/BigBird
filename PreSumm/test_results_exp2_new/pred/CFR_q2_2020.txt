average loans in the second quarter were $ 17.5 billion , up by more than 20 % from the $ 14.4 billion in the second quarter of last year .
the dollar amount of new loan commitments booked through june dropped by about 3 % , compared to the prior year .
overall , our focus for commercial loans continues to be on consistent balanced growth , including both core loan component , which we define is lending relationships under $ 10 million in size , as well as larger relationships , while maintaining our quality standards .
when we ask these businesses why they came to frost , 340 of them told us that ppp was a key factor .
as a reminder , the peak was 16 % back in 2015 , and we continued to diversify our loan portfolio and to moderate our company 's exposure to the energy segment .
that first quarter provision was significantly influenced by our energy portfolio stress scenario of oil at $ 9 per barrel for the remainder of 2020 .
as phil mentioned , we generated over $ 3.2 billion in ppp loans during the quarter .
for instance , the percentage of deals lost to structure increased from 61 % this time last year to 75 % this year .
oil prices have since stabilized at levels well above that assumption , and the energy borrowing base redeterminations are 95 % complete .
of loans whose deferral period has now ended , which is about $ 1.1 billion , only $ 72 million worth have requested a second deferral .
in the state of texas , frost was number three in ppp lending with 5 % of the loans in san antonio , fort worth and corpus christi , frost was number one in terms of ppp loans approved and in san antonio we had more ppp loans in bank of america , chase and wells fargo , combined .
we did well helping businesses of all sizes , but i 'm particularly pleased that more than three quarters of our ppp loans were for $ 150,000 or less , and close to 90 % were for 350,000 or less .
our average fee on that portfolio was about 3.2 % and translates into about $ 104 million .
as of june 30 , when ppp loan applications were initially scheduled to end , we had helped nearly 18,300 of our customers get ppp loans , totaling more than 3.2 billion .
ppp applications have been extended into august and we 're still taking anywhere from a few to 50 applications per day .
at the current level , non-performing assets represent only 22 basis points of assets which is well within our tolerance level and our level lower than our average non-performing assets over the past nine quarters .
